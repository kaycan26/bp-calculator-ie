@page
@model BPCalculator.Pages.BloodPressureModel
@{
    ViewData["Title"] = "BP Category Calculator";
}
@{
    string resultClass = "";

    if (ViewData.ModelState.IsValid && Model.BP != null)
    {
        switch (Model.BP.Category)
        {
            case BPCategory.Low:
                resultClass = "alert alert-primary";   // blue
                break;
            case BPCategory.Ideal:
                resultClass = "alert alert-success";   // green
                break;
            case BPCategory.PreHigh:
                resultClass = "alert alert-warning";   // orange
                break;
            case BPCategory.High:
                resultClass = "alert alert-danger";    // red
                break;
            default:
                resultClass = "alert alert-secondary";
                break;
        }
    }
}


<h4>BP Category Calculator</h4>
<hr />

<div class="row">
    <div class="col-md-4">

        <div class="card border-success mb-3">
            <div class="card-body">

                <form method="post" id="form1">

                   <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                   <div class="form-group">
                       <label asp-for="BP.Systolic" class="control-label"></label>
                       <input asp-for="BP.Systolic" class="form-control"/>
                       <span asp-validation-for="BP.Systolic" class="text-danger"></span>
                   </div>

                   <div class="form-group">
                       <label asp-for="BP.Diastolic" class="control-label"></label>
                       <input asp-for="BP.Diastolic" class="form-control" />
                       <span asp-validation-for="BP.Diastolic" class="text-danger"></span>
                   </div>

                   <div class="form-group">
                       <input type="submit" value="Submit" class="btn btn-success" />
                   </div>

                </form>

                @if (ViewData.ModelState.IsValid && Model.BP !=null)
                {
                   <div class="form-group mt-3">
                       <label>Result:</label>
                       <div class="@resultClass">
                          @Model.BP.Category
                       </div>
                    </div>
                }
            </div>
        </div>

     </div>
</div>
